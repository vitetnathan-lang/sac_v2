<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Sac v2 - Générateur de checklist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <!-- jsPDF pour l'export PDF -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
  <header class="header">
    <h1>Sac v2</h1>
    <p>Générateur de checklist à partir de ton matériel (destinations, météo, mois, autonomie).</p>
  </header>

  <main class="container">
    <!-- Paramètres du voyage -->
    <section class="card">
      <h2>Paramètres du voyage</h2>
      <div class="form-grid">
        <label>
          Destination
          <select id="destination">
            <option value="">— choisir —</option>
            <option value="gr20">GR20 autonomie</option>
            <option value="compostelle">Compostelle</option>
            <option value="thailande">Thaïlande</option>
            <option value="alpes">Alpes (rando)</option>
            <option value="alpinisme">Chamonix (alpinisme)</option>
            <option value="ski">Ski de rando</option>
          </select>
        </label>

        <label>
          Activité (auto depuis destination, modifiable)
          <select id="activite">
            <option value="">— auto —</option>
            <option value="Randonnée">Randonnée</option>
            <option value="Trek">Trek</option>
            <option value="Alpinisme">Alpinisme</option>
            <option value="Via ferrata">Via ferrata</option>
            <option value="Ski rando">Ski rando</option>
            <option value="Tropical">Tropical</option>
          </select>
        </label>

        <label>
          Météo (si tu ne laisses pas auto, ça override le mois)
          <select id="meteo">
            <option value="">— auto —</option>
            <option value="Chaud">Chaud</option>
            <option value="Tempéré">Tempéré</option>
            <option value="Froid">Froid</option>
            <option value="Pluie">Pluie</option>
            <option value="Neige">Neige</option>
          </select>
        </label>

        <label>
          Autonomie (tente, popote…)
          <select id="autonomie">
            <option value="">— auto —</option>
            <option value="oui">Oui</option>
            <option value="non">Non</option>
          </select>
        </label>

        <label>
          Niveau technique max
          <select id="techLevel">
            <option value="1">1 — Rando / Trek</option>
            <option value="2">2 — Montagne technique</option>
            <option value="3">3 — Alpinisme / Ski rando</option>
            <option value="4">4 — Expé / très engagé</option>
          </select>
        </label>

        <label>
          Durée (jours)
          <input type="number" id="duree" min="1" max="60" value="7" />
        </label>

        <label>
          Adresse / lieu
          <input type="text" id="adresse" placeholder="Ex : Chamonix, France" />
        </label>

        <label>
          Mois du voyage
          <select id="mois">
            <option value="">— auto —</option>
            <option value="1">Janvier</option>
            <option value="2">Février</option>
            <option value="3">Mars</option>
            <option value="4">Avril</option>
            <option value="5">Mai</option>
            <option value="6">Juin</option>
            <option value="7">Juillet</option>
            <option value="8">Août</option>
            <option value="9">Septembre</option>
            <option value="10">Octobre</option>
            <option value="11">Novembre</option>
            <option value="12">Décembre</option>
          </select>
        </label>
      </div>

      <div class="actions">
        <button id="btnGenerate">Générer mon sac</button>
        <button id="btnFromAddress" class="secondary">
          Adresse + mois → Météo auto → Sac
        </button>
        <button id="btnReset" class="secondary">Réinitialiser</button>
      </div>
    </section>

    <!-- Résumé + checklist -->
    <section class="card">
      <div class="summary">
        <div>
          <h3>Résumé</h3>
          <p id="summaryText">Aucun filtre appliqué.</p>
        </div>
        <div class="totals">
          <div><span>Poids total :</span> <strong id="totalWeight">0 g</strong></div>
          <div><span>Nombre d'items :</span> <strong id="totalItems">0</strong></div>
        </div>
      </div>

      <div class="checklist-header">
        <h2>Checklist générée</h2>
        <button id="btnExportPdf" class="ghost">Exporter en PDF</button>
      </div>

      <div class="table-wrapper">
        <table id="checklistTable">
          <thead>
            <tr>
              <th>Ok</th>
              <th>Catégorie</th>
              <th>Équipement</th>
              <th>Détails</th>
              <th>Activités</th>
              <th>Packs</th>
              <th>Poids (g)</th>
            </tr>
          </thead>
          <tbody>
            <!-- Rempli dynamiquement par app.js -->
          </tbody>
        </table>
      </div>
    </section>
  </main>
</body>
</html>
